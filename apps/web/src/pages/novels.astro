---
import Pagination from "@/components/search/SearchPagination.astro";
import { Button } from "@/components/starwind/button";
import { Input } from "@/components/starwind/input";
import BaseLayout from "@/layouts/BaseLayout.astro";
import Copy from "@tabler/icons/outline/copy.svg";
---

<BaseLayout>
  <h1>novels</h1>
  <div>
    <div class="flex items-center gap-2 mb-4">
      <!-- TODO: icon -->
      <Copy /><h1 class="text-4xl font-semibold">Search Novels</h1>
    </div>
    <div class="relative">
      <Copy
        class="absolute left-1 top-6 -translate-y-1/2 text-gray-500 w-10 pointer-events-none"
      />
    </div>
    <div class="flex gap-2">
      <Input size="lg" placeholder="Search" class="pl-10 primary" />
      <Button>Search</Button>
      <!-- TODO: icon -->
      <Button id="filter-toggle" class="flex">
        Show Filters
        <Copy
          id="filter-toggle-icon"
          class="transition-transform duration-150"
        />
      </Button>
    </div>
    <div
      id="filter"
      class="max-h-0 overflow-hidden transition-[max-height] duration-150 ease-linear"
    >
      <div class="bg-amber-300 p-2 mt-2 flex flex-col">
        filters<span>test</span><span>test</span>
      </div>
    </div>
    <!-- TODO: results -->
    <Pagination />
  </div>
</BaseLayout>

<script>
  const filterToggle = document.getElementById("filter-toggle");
  const filterToggleIcon = document.getElementById("filter-toggle-icon");
  const filter = document.getElementById("filter");

  filterToggle!.addEventListener("click", () => {
    filter!.classList.toggle("max-h-0");
    filter!.classList.toggle("max-h-96");
    filterToggleIcon?.classList.toggle("rotate-180");
  });
</script>
